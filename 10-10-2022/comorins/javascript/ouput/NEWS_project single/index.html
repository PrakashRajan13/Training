<!DOCTYPE html>
<html lang="en">
<head>
     <!-- Bootstrap CSS -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
     <link rel="stylesheet" href="css/style.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>
<body>
                <!-- header -->
    <header class="container-fluid" >
        <div class="container p-0">
            <div class="row">  
                <a class="col-1" href="index.html"><img  src="images/logo.png" alt=""></a>
                <h1 class="col-11 text-center">TODAY</h1>
            </div>
        </div>
    </header>
                    <!-- navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="collapse navbar-collapse container p-0 navigation" id="navbarNav">
            <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" onclick="index('home')" id="navbars" href="index.html">Home</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" onclick="index('politics')" id="navbars" href="#">Politics</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" onclick="index('sports')" id="navbars" href="#">Sports</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" onclick="index('technology')" id="navbars" href="#">Technology</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" onclick="index('cinema')" id="navbars" href="#">Cinema</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" onclick="index('india')" id="navbars" href="#">India</a>
            </li>
            </ul>
            <span class="navbar-text ml-auto pr-1">
                <a class="nav-link" href="bookmark.html"><i class="fa fa-bookmark-o" ></i></a>
              </span>
        </div>
    </nav>
                        <!-- section -->
    <section class="container p-0">
        <div class="row m-0" id="sec">
            <div>

            </div>
        </div>          
    </section>
    <section class="container" id="sec1">
        <div class="row p-0 m-0">
            <h2 class="my-3 col-11" id="title"></h2>
            <a id="bookmark" class="col-1 bookmark-button text-right" href="#" onclick="add()"></a>
        </div>
        <div class="text-center">
            <img class="rounded" width="50%" src="" id="img" alt="">
        </div>
        <div class="container col-11">
            <p class="font-weight-light" id="content"></p>
            <div class="row m-0 pb-3">
                <i class="col-12 text-right p-0 m-0" id="author"></i>
                <i class="col-12 text-right p-0" id="date"></i> 
            </div>   
    </div>
</section>
                        <!-- footer -->
    <footer class="container-fluid footer">
        <div class="container">
                            <!-- footer logo -->
            <div class="row">
                <div class="col-2 mt-4">
                    <a href="index.html"><img src="images/logo.png" alt=""></a>
                    <h3 class="font-weight-bold">TODAY</h3>
                </div>
                                <!-- footer navigation -->
                <div class="col-6 pt-2"> 
                    <nav class="navbar navbar-expand">
                        <div class=" navbar-collapse " id="navbarNav">
                            <ul class="navbar-nav footer-navigation text-center row">
                            <li class="nav-item active col-4">
                                <a class="nav-link"  id="navbars" href="#">Home</a>
                            </li>
                            <li class="nav-item active col-4">
                                <a class="nav-link" onclick="index('politics')" id="navbars" href="#">Politics</a>
                            </li>
                            <li class="nav-item active col-4">
                                <a class="nav-link" onclick="index('sports')" id="navbars" href="#">Sports</a>
                            </li>
                            <li class="nav-item active col-4">
                                <a class="nav-link" onclick="index('technology')" id="navbars" href="#">Technology</a>
                            </li>
                            <li class="nav-item active col-4">
                                <a class="nav-link" onclick="index('cinema')" id="navbars" href="#">Cinema</a>
                            </li>
                            <li class="nav-item active col-4">
                                <a class="nav-link" onclick="index('india')" id="navbars" href="#">India</a>
                            </li>
                            </ul>
                        </div>
                    </nav>
                </div>
                            <!-- social media-->
                <div class="col-4">
                    <div class="row social pl-3">
                        <p class="col-12">Follow Us</p>
                        <a class='col-3 zoom1' href="https://www.facebook.com/" target="_blank"><img class="footer-img" src="images/facebook.png" alt=""></a>
                        <a class='col-3 zoom1' href="https://www.instagram.com/" target="_blank"><img class="footer-img" src="images/instagram.png" alt=""></a>
                        <a class='col-3 zoom1' href="https://twitter.com/home" target="_blank"><img class="footer-img" src="images/twitter.png" alt=""></a>
                        <a class='col-3 zoom1' href="https://www.youtube.com/" target="_blank"><img class="footer-img" src="images/youtube.png" alt=""></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
   
    <script>
        data=JSON.parse(localStorage.getItem("datas")) 

        // function to load the data at open the file
        function home(){
            let element=" ";
            for(let i=0;i<data.length;i++){
            catagery=data[i].catagery.toLowerCase();
            if(catagery=="home"){
                element+='<div class="card mt-4 col-4 zoom border-0"><div><a onclick="view('+data[i].id+')" href="#"><img class="img_now" id="url" src="'+data[i].img_url+'" class="card-img-top" alt="..."></a></div><div class="card-body"><a class="card-text font-weight-bold" id="content" onclick="view('+data[i].id+')"  href="#">'+data[i].Title+'</a></div><div class="card-footer bg-white border-0"><small class="text-muted">'+data[i].date+'</small></div></div>'
                document.getElementById("sec").innerHTML=element
            }
            }   
        }
        home()
                    // function to change the navigation
        function index(catagery){
            let element = document.getElementById("sec");
            element.innerHTML = "";
            element = document.getElementById("sec1");
            element.innerHTML = "";
            for(let i=0;i<data.length;i++){
            if(catagery==data[i].catagery){
                console.log(data[i])
                element.innerHTML +='<div  class="card mt-4 col-4 zoom border-0"><div class="content_image"><img id="url" src="'+data[i].img_url+'" class="card-img-top" alt="..."></div><div class="card-body"><a class="card-text font-weight-bold" id="content" onclick="view('+data[i].id+')" href="#">'+data[i].Title+'</a></div><div class="card-footer bg-white border-0"><small class="text-muted">'+data[i].date+'</small></div></div>';
            }
            }
        }
                // function to view the full content
        function view(id){
            let bm='<i class="fa fa-bookmark-o text-center" style="font-size:36px"></i>'
            let element = document.getElementById("sec");
            element.innerHTML = "";
            element = document.getElementById("sec1");
            element.innerHTML = "";
            for(let i=0;i<data.length;i++){
                if(id==data[i].id){
                    console.log(data[i].Title)
                    console.log(data[i].id)
                    document.getElementById("title").innerHTML=data[i].Title;
                    document.getElementById("img").setAttribute("src",data[i].img_url);
                    document.getElementById("content").innerHTML=data[i].content;
                    document.getElementById("author").innerHTML=data[i].author;
                    document.getElementById("date").innerHTML=data[i].date;
                    document.getElementById("bookmark").innerHTML=bm;
                }
        }
    }
                                // function for adding bookmark in local storage
    //     function add(){
    //     if(!localStorage.getItem("bookmark")){
    //     localStorage.setItem("bookmark",JSON.stringify([ ]));
    //     }
    //     let bookmarks=JSON.parse(localStorage.getItem("bookmark"));
    //     let url_string=window.location.search;
    //     let urlParams = new URLSearchParams(url_string);
    //     let url = urlParams.get('id');
    //     console.log(url)
    //     for(let i=0;i<data.length;i++){
    //         if(url==data[i].id){
    //         bookmarks.push(data[i]);
    //         localStorage.setItem("bookmark",JSON.stringify(bookmarks))
    //         }
    //     }
    // }
    </script>
    <script src="js/data.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
</body>
</html>